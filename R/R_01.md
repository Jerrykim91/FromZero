# R기초 
---
## R
- 대부분의 개발언어와 문법상으로 유사
- 하지만 매우 눈에 띄는 특이한 문법 존재 
- 일반적인 개발언어보다는 Matlab과 같은 수학적 도구에 가까움 
- 수학적·통계적 기능들을 몇 번의 함수호출로 요약하는 장점 보유 

## 변수에 담기 
### 변수 => R에서는 객체(Object)라고 부름

- 객체는 미리 선언할 필요없음 => 그냥 할당만 하면 바로 생성 그리고 사용가능
- 객체의 이름에는 문자, 숫자를 사용 가능 -> 첫 글자는 반드시 문자!!! 
- 영문자가 아닌 다른 언어의 문자라도 객체의 이름에 사용하는 데에는 문제가 없음
- 하지만 주의할것이있음 => 영문자인 경우에는 **대소문자**를 구분해야함

```r
# 2가지 방법이 존재  
# => 할당 연산자 : =, ->(좌변 대입), <- (우변 대입) 
x = 13
y <- sqrt(9)
4 * x -> z

# ----

ls()                # 모든객체의 이름확인 
objects()           # 모든객체의 이름확인 
rm('객체이름')      # 할당된 객체 삭제
```
---

## 자료구조 
```r

# 객체에는 7 가지의 자료구조를 담을수 있음 

# 1. 스칼라(Scalar)
a <- 10          # 정수(제외)
b <- 2.7         # 실수
c <- "string"    # 문자열(스트링)
d <- FALSE       # 논리값(불린)

# 2. 벡터
# - 벡터
#     :  같은 자료형을 가진 스칼라(Scalar) 값들을 순서를 가지고 일렬로 나열한 자료구조

v <- c(1.2, 2.7, 3.1, 4.9, 5.4)
w <- c(TRUE, FALSE, FALSE)
x <- c("a", "b", "c", "d")
# 실수 값을 가진 벡터의 경우 시작값:종료값의 형태로도 생성 가능
y <- 2.5:5.9     # 2.5 3.5 4.5 5.5 =>  첫수를 기준으로 1씩 증가한 실수 

# 3. 행렬(matrix) => matrix(벡터, nrow=행개수, ncol=열개수)
# 행렬은 서로 다른 자료형을 가진 스칼라 값=> 2차원으로 나열한 자료구조

matrix(
    c(1, 2, 4, 8, 16, 32),
    nrow=2,
    ncol=3
)

# 4. 배열(Array)
# => 행렬을 3차원 이상으로 확장한것
# 5. 리스트(List)
# 6. 팩터(Factor)
# => 같은 항목간에 그룹이 지어져 있는것
# 7. 데이터프레임(Data Frame)
# => 모든 자료구조를 2차원 자료구조로 저장된것 

```

---

## 산술연산자 
```r
3 + 2           # 덧셈
7 - 4           # 뺄셈
11 * 5          # 곱셈
16 / 5          # 나눗셈
16 %/% 5        # 정수나눗셈 ** 중요 
16 %% 5         # 몫(나머지), mod 연산자
3^2             # 승수(거듭제곱), pow() 

# ----

# 벡터도 산술연산자 사용가능 
# 조건 :  벡터나 행렬의 크기가 같다면 둘 사이에도 산술연산자를 사용가능 
v <- c(1.2, 2.7, 3.1)
v <- v + 1       # 2.2 3.7 4.1

# ----

# 논리연산자 ||과 &&을 통하여 OR과 AND 연산 가능 
```
---

## 반복문 
- 반복문 : for문, while문
```r
# while문 => 형태 : while(구문) { }
i <- 0
while(i < 10) {
    i <- i + 1
}

# for문  => 형태 : for(변수명 in 벡터) { } 

# type_01 (for)
tmp <- 0
for(i in c(2, 5, 8)) {
    tmp <- tmp + i
}

# type_02 (for + if )

tmp <- 0
for(i in 5:15) {
    if(i%%2 == 0)
    {
        next;  # 내의 남은 구문을 모두 통과 
        # => 주의 continue문 아님  next문임
    }
    if(i%%10 == 0)
    {
        break; # break문 사용 
    }
    tmp <- tmp + i
}

```
---
## 사용자 정의 함수 
- 사용자가 직접 함수를 만드는것 
- 객체에 담아 사용가능 
- `function(인자, 인자, …) { } #값을 반환할 때는 return() 사용 `
- **R에서는 반드시 return문에서 반환할 값을 소괄호**

```r
# 사용자 함수를 객체에 할당 
f <- function(n){ return (n+1) }
f(19)   # 결과 : 20
g <- f
g(19)   # f(19)와 동일하게 동작 
sum <- f
sum(19) # f(19)와 동일하게 동작 
```

---

#### 주의사항 => 내장함수에도 다른 함수를 할당하는 것이 가능


```r

sum(c(1,2,4,7)) # 14  (합계)
---
sin(pi)         # 1.224606e-16
---
log(3)          # 1.098612 (자연로그)
log10(100)      # 2  (상용로그)
---
floor(3.14)     # 3  (버림)
ceiling(5.87)   # 6  (올림)
round(4.65)     # 5  (반올림)
---
sqrt(9)         # 3  (제곱근)
min(c(1,5,7))   # 1  (최소값)
max(c(2,6,9))   # 9  (최대값)
mean(c(3,6,9))  # 6  (평균)
sd(c(1,2,3,4))  # 1.290994  (표준편차)
---
runif(2, 1, 10) # 난수 2개를 벡터로 생성(1 초과 10 미만)
```

- 기초 수학계산 => 수학관련 함수들은 풍부함
- 회귀분석이라던가 군집화 알고리즘도 내장함수로 제공

```r
# (편)미분 
f <- expression(2*x^3 - y*x^2 + 2*y^2 + 1)
D(f, “x”)
D(f, “y”)
 
# 정적분 
f <- function(x) 2*x^3 - 3*x^2 + 1
integrate(f, 0, 3)
```


