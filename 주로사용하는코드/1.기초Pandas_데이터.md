<br>

#### 1. Pandas 기초 - 피클

<br>

# 피클

<br>

정의 


<br>

## 1. 피클 새로만들기 

<br>


옵션 : 

<br>

```py 
import pickle

# save data
with open( '파일이름'+'.pickle','wb') as fw:
    pickle.dump(stockInfo, fw)
    
```

<br>

<br>

 
## 2. `dict()` 정렬(딕트정렬)

<br>

`list()` 안의 중복값의 개수를 확인하고 중복수에 따라 순위를 확인하자 한다. 

그래서 `dict()`를 이용하여 작업을 진행 
- 리스트안의 중복된 값의 개수

<br>

```py
data = dict()
for cnt in allData:
    try: data[cnt] += 1
    except: data[cnt]=1
```

<br>

data는 중복값과 그 중복값의 개수를 보여준다.     

이렇게 만들어진 data를 `sorted(data)` 이용해 정렬한다.      

확인해 보니 defult 값 오름차순이며 keys 기준이라 옵션을 이용해 vaules 기준으로 그리고 내림차순으로 변경한다.      

여기서 오름차순을 내림차순으로 변경하는것은 
`sorted(data,reverse=True)` 를 이용하면 되지만 

keys 기준을 vaules 기준으로 바꾸는것 같이 특정 기준을 변경하는것은 따로 패키지를 이용하여 진행해야한다. 다행히도 번거롭게 설치 할 필요는 없다.

`import operator` 를 이용하여 진행하면 된다.

operator의 자세한 내용은 [참고](https://docs.python.org/ko/3.7/library/operator.html) 확인해보면된다.   

여기서 `itemgetter()` 안에 들어가는 수는 `0` 은 키 기준 , `1` 값 기준이다. 

임포트를 한 후 이렇게 함수 내부에 파라미터 값을 `key=operator.itemgetter(1)` 으로 지정하면 vaules 기준으로 내림차순의 데이터를 확인 가능하다.         

```py
sorted(data.items(),reverse=True, key=operator.itemgetter(1))
``` 
타이을 확인해보면 `list`로 형식으로 담기게 되는데 인덱싱을 이용하여 원하는 형태로 추출이 가능하다.      

<br>

<br>


## 3.  데이터 프레임 생성 

<br>


### 1 ) 보유 데이터 기반으로 데이터 프레임 생성 

`list`, `dict` 에 담긴 데이터를 기반으로 데이터 프레임 생성 

```py
data = dict() or list()

df = pd.DataFrame(data) # 프레임 생성 

print(df)
```

<br>


<br>

### 2 ) 생성, 활용해서 데이터 프레임 생성      

<br>

데이터를 생성 혹은 활용해서 데이터 프레임 생성      

리스트내포를 이용해서 

```py
df_data = pd.DataFrame( columns = ("fst","sed","trd") )
   

df_data_1 = df_data
for i in range(5):
    df_data_1.loc[i] = [(i+1)*(n+1) for n in range(3)]

print(df_data_1)
```

<br>


<br>

### 3 ) 데이터 프레임 생성 후 특정 컬럼 추가 

<br>

특정 컬럼에 데이터 추가

```py
df_data = pd.DataFrame( columns = ("fst","sed","trd") )

# 특정 컬럼에 데이터 추가 
df_data_2 = df_data
df_data_2.trd = [date]

print(df_data_2)
```

<br>


<br>

## 4. 데이터 병합 

<br>

판다스와 for 문을 이용해 데이터 병합

```py

pathName = 'C:\data\%s' 

dataList = list()
cnt = 0
# glob 경로를 추출 -> 경로를 read_csv
for pth in glob.glob(pathName%'Camp'+'/*'):
    # read_csv를 이용해 파일을 읽어서 변수에 담는다 
    origin  = pd.read_csv( pth, index_col=False)
    cnt = cnt + len(origin) # 데이터 검증을 위한 누적코드
    
    print(cnt)
    dataList.append(origin)

# 리스트에 담긴 데이터프레임을 concat을 이용해 병합한후 csv로 저장 
CatList= pd.concat(dataList,axis=0, ignore_index=True)
# axis=0은 수직, axis=1은 수평으로 병합
# ignore_index=True는 순서를 무시하고 순서대로 정렬
CatList.to_csv('C:/data/%s.csv'% f'Camp', index=False, mode='w', encoding='utf-8')

```

<br>




<br>

## 4. 데이터 병합 

<br>

판다스와 for 문을 이용해 데이터 병합

```py



```

<br>



<br>

## 4. 데이터 병합 

<br>

판다스와 for 문을 이용해 데이터 병합

```py



```

<br>




<br>

## 4. 데이터 병합 

<br>

판다스와 for 문을 이용해 데이터 병합

```py



```

<br>














<br>

---

<br>

## Reference <br>

<!-- - 파이썬 코딩도장 &nbsp; : &nbsp;<https://dojang.io/> <br> -->

<br>
<br>

## Practice makes perfect! <br>

<!-- - [내용](주소) -->